	<HTML><HEAD><TITLE>FileTrans.sca</TITLE></HEAD><BODY BACKGROUND='http://scalos.striatum.org/gfx/backdrop.gif'>
	
	<FONT SIZE="5"><B>FileTrans.sca</B></FONT><P><UL>
	<LI><A HREF="#1">--background</A></LI><LI><A HREF="#2">SCCM_FileTrans_Copy</A></LI><LI><A HREF="#3">SCCM_FileTrans_CountTimeout</A></LI><LI><A HREF="#4">SCCM_FileTrans_Move</A></LI><LI><A HREF="#5">SCCM_FileTrans_CheckAbort</A></LI><LI><A HREF="#6">SCCM_FileTrans_OpenWindow</A></LI><LI><A HREF="#7">SCCM_FileTrans_OpenWindowDelayed</A></LI><LI><A HREF="#8">SCCM_FileTrans_OverwriteRequest</A></LI><LI><A HREF="#9">SCCM_FileTrans_UpdateWindow</A></LI></UL><P><UL><UL><A NAME="1"><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	--background<BR><BR>    DESCRIPTION<BR>	This class is used to display a progress window showing the user <BR>	what is currently going on while copying or moving files/directories.<BR><BR></UL><FONT SIZE="4"><B>   TAGS<BR></B></FONT><UL>	SCCA_FileTrans_Number (ULONG) -- Number of objects to move or copy.<BR>	    Applicability is (I).<BR><BR>	SCCA_FileTrans_Screen (struct Screen *) -- Screen to display to <BR>	    file transfer progress window on.<BR>	    Applicability is (I).<BR><BR>	SCCA_FileTrans_ReplaceMode (ULONG) -- How to react if an object <BR>	    to copy/move already exists at destination.<BR><BR>		SCCV_ReplaceMode_Ask -- Pop up a requester and ask <BR>			the user what to do.<BR>		SCCV_ReplaceMode_Never -- Quietly skip the object and <BR>			proceed to the next one.<BR>		SCCV_ReplaceMode_Always -- Quietly overwrite the <BR>			existing object.<BR><BR>	    Applicability is (I). Defaults to SCCV_ReplaceMode_Ask.<BR><BR></UL><HR><A NAME="#2"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_Copy<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	LONG Result = DoMethod(obj,SCCM_FileTrans_Copy,BPTR srcLock,<BR>		BPTR destLock,CONST_STRPTR srcName,CONST_STRPTR destName,<BR>		LONG MouseX,LONG MouseY);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Displays a window on the scalos screen containing some message about <BR>	the file currently being copied.	<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL>	srcLock - Lock on copy source directory.<BR>	destLock - Lock on copy destination directory.<BR>	srcName - Name of object currently being copied from.<BR>	destName - Name of object currently being copied to.<BR>	MouseX,MouseY - position for destination icon.<BR><BR></UL><FONT SIZE="4"><B>    RESULT<BR></B></FONT><UL>	Result - 0 = RETURN_OK = copying finished successfully<BR>		5 = RETURN_WARN = Copying was aborted by user<BR>		... other DOS error code if something went wrong<BR><BR>    NOTES<BR>	This function has special support for copying an entire volume to <BR>	a directory. To enable this functionality, srcName must be <BR>	empty (&quot;&quot;, but not NULL), srcLock must be a Lock to the root of the <BR>	source volume, and destName must contain the volume name without <BR>	trailing colon.<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#3"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_Move<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	LONG Result = DoMethod(obj,SCCM_FileTrans_Move,BPTR srcLock,<BR>		BPTR destLock,CONST_STRPTR Name,LONG MouseX,LONG MouseY);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Displays a window on the scalos screen containing some message about <BR>	the file currently being moved.<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL>	srcLock - Lock on move source directory<BR>	destLock - Lock on move destination directory<BR>	Name - Name of object currently being moved<BR>	MouseX,MouseY - position for destination icon<BR><BR></UL><FONT SIZE="4"><B>    RESULT<BR></B></FONT><UL>	Result - 0 = RETURN_OK = moving finished successfully<BR>		5 = RETURN_WARN = moving was aborted by user<BR>		... other DOS error code if something went wrong<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#4"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_CheckAbort<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	LONG Result = DoMethod(obj,SCCM_FileTrans_CheckAbort);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Checks if current file copy(move operation should be aborted <BR>	upon operator's request.<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL>	-<BR><BR></UL><FONT SIZE="4"><B>    RESULT<BR></B></FONT><UL>	Result - any non-zero value : Abort requested<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#5"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_OpenWindow<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	struct Window *Result = DoMethod(obj,SCCM_FileTrans_OpenWindow);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Opens the file-transfer progress window.<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL>	-<BR><BR></UL><FONT SIZE="4"><B>    RESULT<BR></B></FONT><UL>	Result - a pointer to the file transfer progress window,<BR>	    or NULL if window could not be opened.<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#6"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_OpenWindowDelayed<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	struct Window *Result = DoMethod(obj,SCCM_FileTrans_OpenWindowDelayed);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Checks if the elapsed time after start of copy/move operations is <BR>	move than about 2 seconds.<BR>	If so, opens the file-transfer progress window.<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL>	-<BR><BR></UL><FONT SIZE="4"><B>    RESULT<BR></B></FONT><UL>	Result - a pointer to the file transfer progress window,<BR>	    or NULL if window has not been opened.<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#7"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_UpdateWindow<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	DoMethod(obj,SCCM_FileTrans_UpdateWindow, ULONG UpdateMode,<BR>		BPTR SrcDirLock,BPTR DestDirLock,CONST_STRPTR Name);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Updates the file transfer progress window.<BR>	First does a check if the window is already open. If the window is <BR>	open, the contents are updated. If it is not open, <BR>	SCCM_FileTrans_OpenWindowDelayed is called.<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL>	UpdateMode - Mode of window update<BR>	   FTUPDATE_Initial - Initializes several things.<BR>		SrcDirLock, DestDirLock, and Name are ignored.<BR>	   FTUPDATE_EnterNewDir - Display new &quot;From&quot; and &quot;To&quot; paths.<BR>	   FTUPDATE_Entry - Display new filename<BR>		SrcDirLock and DestDirLock are ignored.<BR>	   FTUPDATE_SameFile - only update progress gauge<BR>		SrcDirLock, DestDirLock, and Name are ignored.<BR>	   FTUPDATE_Final - Update progress gauge to 100%,<BR>		SrcDirLock, DestDirLock, and Name are ignored.<BR>	SrcDirLock - Lock on copy/move source directory<BR>	DestDirLock - Lock on copy/move destination directory<BR>	Name - Name of object currently being copied or moved<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#8"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_OverwriteRequest<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	ULONG Result = DoMethod(obj,SCCM_FileTrans_OverwriteRequest, ULONG requestType,<BR>		BPTR srcLock, CONST_STRPTR srcName,<BR>		BPTR destLock, CONST_STRPTR destName,<BR>		struct Window *parentWindow,<BR>		ULONG bodyTextID, ULONG gadgetTextID);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Pops up a requester telling the user that some file system object is <BR>	about to be overwritten. Ask user for decision about what to do, <BR>	and returns appropriate result.<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL>	requestType - type of operation<BR>		OVERWRITEREQ_Copy - file or directory is going to be copied<BR>		OVERWRITEREQ_Move - file or directory is going to be moved<BR>		OVERWRITEREQ_CopyIcon - icon is going to be copied<BR>	srcLock - Lock on source directory.<BR>	srcName - source name.<BR>	destLock - Lock on destination directory.<BR>	destName - destination name.<BR>	parentWindow - progress window on Scalos screen, may be NULL.<BR>	suggestedBodyTextId - Text ID from Scalos catalog that specifies suggested <BR>		requester body text.<BR>	suggestedGadgetTextId - Text ID from Scalos catalog that specifies <BR>		suggested requester gadget contents.<BR><BR></UL><FONT SIZE="4"><B>    RESULT<BR></B></FONT><UL>	Result - ExistsReqResult<BR>		EXISTREQ_Replace - replace only this object<BR>		EXISTREQ_Skip - don't replace and skip this object<BR>		EXISTREQ_ReplaceAll - replace this and any following object<BR>		EXISTREQ_Abort - abort copy/move operation<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#9"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	SCCM_FileTrans_CountTimeout<BR><BR></UL><FONT SIZE="4"><B>    SYNOPSIS<BR></B></FONT><PRE>	ULONG Result = DoMethod(obj,SCCM_FileTrans_CountTimeout);<BR><BR></PRE>&nbsp;<BR><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	Checks if counting of files (on file transfer start) takes longer <BR>	than the configured time (default: 10s),<BR>	returns non-zero value if timeout is exceeded and counting <BR>	should be aborted.<BR><BR></UL><FONT SIZE="4"><B>    INPUTS<BR></B></FONT><UL><BR></UL><FONT SIZE="4"><B>    RESULT<BR></B></FONT><UL>	Result - non-zero value if CountTimeout is exceeded and <BR>	   counting should be aborted.<BR><BR></UL><FONT SIZE="4"><B>    SEE ALSO<BR></B></FONT><UL></UL><HR><A NAME="#10"><BR> 
	</LI></UL><P align="right">
	Generated on 12th April 2004 by ad2html.pl v0.87 by <A HREF="http://www.philprice.net" TARGET="_blank">Phil Price</A>
	</BODY></HTML>
	