	<HTML><HEAD><TITLE>iconobject.datatype</TITLE></HEAD><BODY BACKGROUND='http://scalos.striatum.org/gfx/backdrop.gif'>
	
	<FONT SIZE="5"><B>iconobject.datatype</B></FONT><P><UL>
	<LI><A HREF="#1">--background--</A></LI><LI><A HREF="#2">iconobject.datatype</A></LI></UL><P><UL><UL><A NAME="1"><BR></UL><FONT SIZE="4"><B>    PURPOSE<BR></B></FONT><UL>	The iconobject.datatype has a special API to work with icons. It makes<BR>	both images , tooltypes and many more available.<BR><BR></UL><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	The iconobject.datatype has some special method to draw images and<BR>	writing icons. It is also compatible to gadgets methods. You can use<BR>	datatypes.library or iconobject.library to create objects. The icon-<BR>	object.library is much faster.<BR>	After creating an object the gadget.left and gadget.top fields are<BR>	filled with the saved iconposition. The GA_LEFT,GA_TOP,GA_WIDTH and<BR>	GA_HEIGHT tags are ignored. They have to be set after creating the obj-<BR>	ect if you like to change them.<BR>	Before using the IDTM_Draw method you have to use IDTM_Layout. The<BR>	IDTM_Layout method will generate the images and probably changing the<BR>	size. The extgadget.bounds field of the return object hold the position<BR>	and the whole size (including the text) and the position. The gadget<BR>	size infos are only the image size. The size may change after layouting<BR>	if you setup a inneroffset. The gadget.left/top field may be<BR>	IO_NOPOSITION. If you use an iconobject as gadget you don't need to<BR>	layout it, this will be done automatically.<BR>	The textcolor and the drawmode you like have to be set in the rastport<BR>	before drawing.<BR><BR>	CREATING SUBDATATYPES<BR>		OM_NEW<BR>			You have to open the icon and then you should set some<BR>			attributes to the superclass (e.g. Tooltypes). Set the<BR>			position and the size in the gadget struct. If you like<BR>			to have a transparent icon then set the IDTA_Mask_..<BR>			tags before the IDTM_Layout method.<BR><BR>		OM_DISPOSE<BR>			Free your icon.<BR><BR>		IDTM_Layout<BR>			After calling the superclass you can get the<BR>			gadget.gadgetrender and selectrender. These are filled<BR>			with a pointer to a rastport or NULL. Get the<BR>			IDTA_InnerLeft and IDTA_InnerTop attributes and draw<BR>			your image into the rastport. The bitmap in the rastport<BR>			may be a 15/16 or 24bit bitmap. You can use<BR>			cybergraphics.library to access it. Check the<BR>			layout.flags to know which image you should generate.<BR><BR>		IDTM_Write<BR>			Generate a icon from the icon object and write it to<BR>			disk.<BR><BR>		IDTA_Extention<BR>			Set the extention of your icons or NULL if they have<BR>			none.<BR><BR>	USING ICONOBJECT-DATATYPES<BR><BR><BR></UL><HR><A NAME="#2"><BR><BR>    </LI><LI><B><FONT SIZE="4">NAME</FONT></B><UL><BR>	iconobject.datatype -- root data type for iconobject.<BR><BR></UL><FONT SIZE="4"><B>    FUNCTION<BR></B></FONT><UL>	The iconobject.datatype is the super-class of all iconobjects.<BR><BR></UL><FONT SIZE="4"><B>    METHODS<BR></B></FONT><UL>	OM_NEW -- Create a new iconobject.<BR><BR>	OM_GET -- Obtain the value of an attribute.<BR><BR>	OM_SET -- Set the values of multiple attributes.<BR><BR>	GM_HITTEST -- Determine if the object has been hit with the<BR>	    mouse. If the image has a mask, the iconobject will check if the<BR>	    click is insite of this mask.<BR><BR>	GM_RENDER -- Cause the graphic to render.<BR><BR>	IDTM_Layout -- layout the iconobject, it *MUST* be used before using the<BR>	               ITDM_Draw method<BR><BR>	IDTM_Draw -- draw the whole icon to the rastport given in the io_draw<BR>	             struct. The gadget flag SELECTED will determinate the if<BR>	             the unselected or selected image will be drawn.<BR><BR>	IDTM_Write -- write the icon to disk<BR><BR>	IDTM_FindToolType -- find a tooltype<BR><BR>	IDTM_GetToolTypeValue -- get a value from a tooltype<BR><BR>	IDTM_FreeLayout -- free the layout. This should be used if you change<BR>	                   the screen. You can use IDTM_Layout after this<BR>	                   method.<BR><BR><BR></UL><FONT SIZE="4"><B>    TAGS<BR></B></FONT><UL>	IDTA_Type (ULONG) -- icontype (see icon.library/diskobject)<BR>	    Applicability is (ISG).<BR><BR>	IDTA_Text (*CHAR) -- icon text, will normally displayed under the icon<BR>	                     if you set this attribute you have to relayout the<BR>	                     iconobject.<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_DefaultTool (CHAR *) -- default tool<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_WindowRect (struct IBox *) -- the window position and size if the<BR>	                                   icontype is disk/drawer/trashcan<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_ToolTypes (STRPTR *) -- tooltype array<BR><BR>	    Beware: a tooltype pointer received by GetAttr() will get invalid<BR>	    (memory gets freed) as soon as tooltypes are changed with <BR>	    SetAttrs(IDTA_ToolTypes...).<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_Stacksize (ULONG) -- stacksize<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_InnerLeft (ULONG)<BR>	IDTA_InnerTop (ULONG)<BR>	IDTA_InnerRight (ULONG)<BR>	IDTA_InnerBottom (ULONG) -- inner offset to the iconimage, you need to<BR>	                            relayout the icon after changing this<BR>	                            attribute<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_FrameType (ULONG)<BR>	IDTA_FrameTypeSel (ULONG) -- frame type for the unselected and <BR>				    selected image<BR>	<BR>	    Applicability is (ISG).<BR><BR>	IDTA_WinCurrentX (LONG)<BR>	IDTA_WinCurrentY (LONG) -- virtual inneroffset of the window to open<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_LayoutFlags (ULONG) -- find out what's already layouted<BR>	    Applicability is (..G).<BR><BR>	IDTA_Extention (CHAR *) --  the icon name extension or NULL<BR>	    Applicability is (..G).<BR><BR>	IDTA_Mask_Normal (BYTE *)<BR>	IDTA_Mask_Selected (BYTE *) -- the image mask, the width is rounded by<BR>	                               16. It one planar bitplane.<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_Flags (ULONG) -- icon flags (e.g. ShowAllFiles)<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_ViewModes -- viewmodes for the window to open<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_DefType (ULONG) -- defaulticon type (see icon.library/diskobject)<BR><BR>	    Applicability is (I..).<BR><BR>	IDTA_TextPenSel (ULONG) -- selected icon text pen<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_TextPen (ULONG) -- unselected icon text pen<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_TextPenOutline (ULONG) -- pen for text outline<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_TextPenShadow (ULONG) -- pen for text shadow<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_TextMode (ULONG) -- the textmode (e.g. Outline)<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_TextSkip (ULONG) -- space in pixels between the text and the image<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_HalfShadowPen (ULONG) -- MagicWB halfshadow pen, needed for some<BR>	                              frames<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_HalfShinePen (ULONG) -- MagicWB halfshine pen, need for some frames<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_Borderless (ULONG) -- When TRUE, always draw icon without border<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_UserFlags (ULONG) -- unused by icon datatype<BR><BR>	    Applicability is (ISG).<BR><BR>	IDTA_MaskBM_Normal (struct BitMap *) -- returns BitMap with unselected <BR>				                icon drawing mask<BR><BR>	    Applicability is (..G).<BR><BR>	IDTA_MaskBM_Selected (struct BitMap *) -- returns BitMap with selected <BR>				                icon drawing mask<BR><BR>	    Applicability is (..G).<BR><BR>	IDTA_IconLocation (struct WBArg *) - sets information about the object <BR>						associated to a new icon. The <BR>						datatype may choose to examine <BR>						the object.<BR><BR>	    Applicability is (I..).<BR><BR></UL><HR><A NAME="#3"><BR> 
	</LI></UL><P align="right">
	Generated on 12th April 2004 by ad2html.pl v0.87 by <A HREF="http://www.philprice.net" TARGET="_blank">Phil Price</A>
	</BODY></HTML>
	